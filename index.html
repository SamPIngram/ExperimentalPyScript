<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>


    <link rel="stylesheet" href="/ExperimentalPyScript/static/css/site.css"/>
    <title>PyScript Testing</title>

    <link rel="stylesheet" href="/ExperimentalPyScript/static/pyscript/pyscript.css"/>
    <script defer src="/ExperimentalPyScript/static/pyscript/pyscript.js"></script>
    <py-config>
        - autoclose_loader: true
        - runtimes:
            -
                src: "/ExperimentalPyScript/static/pyodide/pyodide.js"
                name: pyodide-0.20
                lang: python
    </py-config>
    <py-env>
        - '/ExperimentalPyScript/static/wheels/pydicom-2.3.0-py3-none-any.whl'
        - matplotlib
    </py-env>
</head>
<body>
    <h1>Pydicom in the browser</h1>
    <div id="plot"></div>
    <py-script output="plot">
        from pydicom import dcmread
        from pydicom.data import get_testdata_file
        import matplotlib.pyplot as plt

        fpath = get_testdata_file('CT_small.dcm')
        ds = dcmread(fpath)

        fig, ax = plt.subplots()
        ax.imshow(ds.pixel_array, cmap=plt.cm.gray)
        fig
    </py-script>
  </body>
</html>
